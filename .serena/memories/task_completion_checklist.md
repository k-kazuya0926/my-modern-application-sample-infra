# タスク完了時のチェックリスト

## コード品質チェック

### 1. Terraformコードの検証
```bash
# 設定を検証
terraform validate

# コードをフォーマット
terraform fmt -recursive

# 計画を確認（エラーがないことを確認）
aea terraform plan
```

### 2. 静的解析・セキュリティチェック
```bash
# GitHub Actionsワークフローのリンティング
docker run --rm -v "$(pwd):$(pwd)" -w "$(pwd)" rhysd/actionlint:latest

# セキュリティスキャン
trivy fs .
```

## コード規約準拠確認

### 3. 命名規則チェック
- [ ] リソース名が `${var.github_repository_name}-${var.env}-${specific_name}` パターンに従っているか
- [ ] 変数・アウトプットの`description`が日本語で記述されているか
- [ ] モジュール構造が `main.tf`, `variables.tf`, `outputs.tf` に従っているか

### 4. セキュリティパターン確認
- [ ] Lambda関数ごとに個別IAM実行ロールを作成しているか
- [ ] `policy_statements`で最小権限の原則に従っているか
- [ ] コンテナパッケージングを使用しているか（ZIPファイル禁止）

### 5. モジュール設計確認
- [ ] 再利用可能な設計になっているか
- [ ] 適切なデフォルト値が設定されているか
- [ ] 必要に応じてバリデーションが実装されているか

## デプロイメント前確認

### 6. 状態管理確認
- [ ] 適切なバックエンド設定ファイルを使用しているか
- [ ] データストアの個別状態管理を考慮しているか

### 7. 環境設定確認
- [ ] 必要な環境変数が`terraform.tfvars`に設定されているか
- [ ] GitHub OIDC設定が正しく構成されているか

## CI/CD確認

### 8. GitHub Actions確認
- [ ] 必要なワークフローが追加・更新されているか
- [ ] セキュリティスキャンが通ることを確認
- [ ] 静的解析が通ることを確認

### 9. ドキュメント更新
- [ ] 変更内容に応じてCLAUDE.mdを更新
- [ ] 新しいコマンドやパターンがあれば記録
- [ ] README.mdの更新が必要であれば実施